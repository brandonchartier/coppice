!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.coppice=e.coppice||{})}(this,function(e){"use strict";function t(e){return function t(){var n=[].slice.call(arguments);return n.length>=e.length?e.apply(this,n):function(){return t.apply(this,n.concat([].slice.call(arguments)))}}}function n(e,t){var r=[].slice.call(arguments),i=!1;"boolean"==typeof r[0]&&(i=r.shift());for(var o=r[0],a=r.slice(1),l=a.length,c=0;c<l;c++){var f=a[c];for(var u in f){var d=f[u];if(i&&d&&"object"==typeof d){var v=Array.isArray(d)?[]:{};o[u]=n(!0,o[u]||v,d)}else o[u]=d}}return o}function r(e,t){for(var n,r=arguments,i=[],o=[],a=arguments.length;a-- >2;)i[i.length]=r[a];for(;i.length;)if(Array.isArray(n=i.pop()))for(a=n.length;a--;)i[i.length]=n[a];else null!=n&&!0!==n&&!1!==n&&("number"==typeof n&&(n+=""),o[o.length]=n);return"string"==typeof e?{tag:e,data:t||{},children:o}:e(t,o)}function i(e,t,n,r){if(null==n)t=e.insertBefore(a(r),t);else if(r.tag&&r.tag===n.tag){c(t,n.data,r.data);for(var o=r.children.length,l=n.children.length,d={},v=[],s={},h=0;h<l;h++){y=t.childNodes[h];v[h]=y,null!=(w=f(g=n.children[h]))&&(d[w]=[y,g])}for(var h=0,p=0;p<o;){var y=v[h],g=n.children[h],m=r.children[p];if(s[w=f(g)])h++;else{var b=f(m),A=d[b]||[];null==b?(null==w&&(i(t,y,g,m),p++),h++):(w===b?(i(t,A[0],A[1],m),h++):A[0]?(t.insertBefore(A[0],y),i(t,A[0],A[1],m)):i(t,y,null,m),p++,s[b]=m)}}for(;h<l;){var w=f(g=n.children[h]);null==w&&u(t,v[h],g),h++}for(var h in d){var j=(A=d[h])[1];s[j.data.key]||u(t,A[0],j)}}else if(r!==n){h=t;e.replaceChild(t=a(r),h)}return t}function o(e,t){var n={};if("object"!=typeof t||Array.isArray(t))return t;for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function a(e,t){if("string"==typeof e)n=document.createTextNode(e);else{for(var n=(t=t||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag),r=0;r<e.children.length;)n.appendChild(a(e.children[r++],t));for(var r in e.data)"oncreate"===r?e.data[r](n):l(n,r,e.data[r])}return n}function l(e,t,n,r){if("key"===t);else if("style"===t)for(var i in o(r,n=n||{}))e.style[i]=n[i]||"";else{try{e[t]=n}catch(e){}"function"!=typeof n&&(n?e.setAttribute(t,n):e.removeAttribute(t))}}function c(e,t,n){for(var r in o(t,n)){var i=n[r],a=t[r];"onupdate"===r?i(e):i===a&&i===e[r]||l(e,r,i,a)}}function f(e){if(e&&(e=e.data))return e.key}function u(e,t,n){function r(){e.removeChild(t)}(n.data&&n.data.onremove||r)(t,r)}var d=t,v=n,s=r,h=function(e,t){void 0===t&&(t="body"),document.querySelector(t).appendChild(e)},p=function(e){var t=e.model;void 0===t&&(t={});var n=e.update;void 0===n&&(n={});var r=e.action;void 0===r&&(r={});var o,a,l=e.view,c=document.createElement(null),f=function(e){return o=i(c,o,a,a=e)},u=d(function(e,r){var i=n[e];v(t,i(r)(t)),f(l({commit:u,dispatch:s})(t))}),s=d(function(e,t){(0,r[e])({commit:u,dispatch:s},t)});return f(l({commit:u,dispatch:s})(t))};e.h=s,e.mount=h,e.program=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=coppice.js.map
