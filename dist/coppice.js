!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.coppice=e.coppice||{})}(this,function(e){"use strict";function n(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}function t(e,n,t){for(var i in n){var u=n[i];void 0===u?r(e,i,u,t):ge(u)?(r(e,i,u,t),u.hook&&u.hook(e,i,t?t[i]:void 0)):ye(u)?o(e,n,t,i,u):e[i]=u}}function r(e,n,t,r){if(r){var o=r[n];if(ge(o))o.unhook&&o.unhook(e,n,t);else if("attributes"===n)for(var i in o)e.removeAttribute(i);else if("style"===n)for(var u in o)e.style[u]="";else e[n]="string"==typeof o?"":null}}function o(e,n,t,r,o){var u=t?t[r]:void 0;if("attributes"!==r)if(u&&ye(u)&&i(u)!==i(o))e[r]=o;else{ye(e[r])||(e[r]={});var a="style"===r?"":void 0;for(var s in o){var l=o[s];e[r][s]=void 0===l?a:l}}else for(var f in o){var c=o[f];void 0===c?e.removeAttribute(f):e.setAttribute(f,c)}}function i(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}function u(e){return e&&"VirtualNode"===e.type&&e.version===me}function a(e){return e&&"VirtualText"===e.type&&e.version===me}function s(e){return e&&"Widget"===e.type}function l(e){return e&&"Thunk"===e.type}function f(e,n){var t=e,r=n;return Ne(n)&&(r=c(n,e)),Ne(e)&&(t=c(e,null)),{a:t,b:r}}function c(e,n){var t=e.vnode;if(t||(t=e.vnode=e.render(n)),!(Oe(t)||we(t)||Ee(t)))throw new Error("thunk did not return a valid node");return t}function p(e,n){var t=n?n.document||de:de,r=n?n.warn:null;if(e=_e(e).a,Ee(e))return e.init();if(we(e))return t.createTextNode(e.text);if(!Oe(e))return r&&r("Item is not a valid virtual dom node",e),null;var o=null===e.namespace?t.createElement(e.tagName):t.createElementNS(e.namespace,e.tagName),i=e.properties;ke(o,i);for(var u=e.children,a=0;a<u.length;a++){var s=p(u[a],n);s&&o.appendChild(s)}return o}function h(e){return"[object Array]"===xe.call(e)}function v(e,n,t){this.type=Number(e),this.vNode=n,this.patch=t}function d(e,n){var t;for(var r in e){r in n||((t=t||{})[r]=void 0);var o=e[r],i=n[r];if(o!==i)if(ye(o)&&ye(i))if(y(i)!==y(o))(t=t||{})[r]=i;else if(ge(i))(t=t||{})[r]=i;else{var u=d(o,i);u&&((t=t||{})[r]=u)}else(t=t||{})[r]=i}for(var a in n)a in e||((t=t||{})[a]=n[a]);return t}function y(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}function g(e,n){var t={a:e};return k(e,n,t,0),t}function k(e,n,t,r){if(e!==n){var o=t[r],i=!1;if(Ne(e)||Ne(n))E(e,n,t,r);else if(null==n)Ee(e)||(O(e,t,r),o=t[r]),o=P(o,new Re(Re.REMOVE,e,n));else if(Oe(n))if(Oe(e))if(e.tagName===n.tagName&&e.namespace===n.namespace&&e.key===n.key){var u=Se(e.properties,n.properties);u&&(o=P(o,new Re(Re.PROPS,e,u))),o=m(e,n,t,o,r)}else o=P(o,new Re(Re.VNODE,e,n)),i=!0;else o=P(o,new Re(Re.VNODE,e,n)),i=!0;else we(n)?we(e)?e.text!==n.text&&(o=P(o,new Re(Re.VTEXT,e,n))):(o=P(o,new Re(Re.VTEXT,e,n)),i=!0):Ee(n)&&(Ee(e)||(i=!0),o=P(o,new Re(Re.WIDGET,e,n)));o&&(t[r]=o),i&&O(e,t,r)}}function m(e,n,t,r,o){for(var i=e.children,u=T(i,n.children),a=u.children,s=i.length,l=a.length,f=s>l?s:l,c=0;c<f;c++){var p=i[c],h=a[c];o+=1,p?k(p,h,t,o):h&&(r=P(r,new Re(Re.INSERT,null,h))),Oe(p)&&p.count&&(o+=p.count)}return u.moves&&(r=P(r,new Re(Re.ORDER,e,u.moves))),r}function O(e,n,t){_(e,n,t),w(e,n,t)}function w(e,n,t){if(Ee(e))"function"==typeof e.destroy&&(n[t]=P(n[t],new Re(Re.REMOVE,e,null)));else if(Oe(e)&&(e.hasWidgets||e.hasThunks))for(var r=e.children,o=r.length,i=0;i<o;i++){var u=r[i];w(u,n,t+=1),Oe(u)&&u.count&&(t+=u.count)}else Ne(e)&&E(e,null,n,t)}function E(e,n,t,r){var o=_e(e,n),i=g(o.a,o.b);N(i)&&(t[r]=new Re(Re.THUNK,null,i))}function N(e){for(var n in e)if("a"!==n)return!0;return!1}function _(e,n,t){if(Oe(e)){if(e.hooks&&(n[t]=P(n[t],new Re(Re.PROPS,e,b(e.hooks)))),e.descendantHooks||e.hasThunks)for(var r=e.children,o=r.length,i=0;i<o;i++){var u=r[i];_(u,n,t+=1),Oe(u)&&u.count&&(t+=u.count)}}else Ne(e)&&E(e,null,n,t)}function b(e){var n={};for(var t in e)n[t]=void 0;return n}function T(e,n){var t=x(n),r=t.keys,o=t.free;if(o.length===n.length)return{children:n,moves:null};var i=x(e),u=i.keys;if(i.free.length===e.length)return{children:n,moves:null};for(var a=[],s=0,l=o.length,f=0,c=0;c<e.length;c++){var p,h=e[c];h.key?r.hasOwnProperty(h.key)?(p=r[h.key],a.push(n[p])):(p=c-f++,a.push(null)):s<l?(p=o[s++],a.push(n[p])):(p=c-f++,a.push(null))}for(var v=s>=o.length?n.length:o[s],d=0;d<n.length;d++){var y=n[d];y.key?u.hasOwnProperty(y.key)||a.push(y):d>=v&&a.push(y)}for(var g,k=a.slice(),m=0,O=[],w=[],E=0;E<n.length;){var N=n[E];for(g=k[m];null===g&&k.length;)O.push(V(k,m,null)),g=k[m];g&&g.key===N.key?(m++,E++):N.key?(g&&g.key&&r[g.key]!==E+1?(O.push(V(k,m,g.key)),(g=k[m])&&g.key===N.key?m++:w.push({key:N.key,to:E})):w.push({key:N.key,to:E}),E++):g&&g.key&&O.push(V(k,m,g.key))}for(;m<k.length;)g=k[m],O.push(V(k,m,g&&g.key));return O.length!==f||w.length?{children:a,moves:{removes:O,inserts:w}}:{children:a,moves:null}}function V(e,n,t){return e.splice(n,1),{from:n,key:t}}function x(e){for(var n={},t=[],r=e.length,o=0;o<r;o++){var i=e[o];i.key?n[i.key]=o:t.push(o)}return{keys:n,free:t}}function P(e,n){return e?(Pe(e)?e.push(n):e=[e,n],e):n}function R(e,n,t,r,o){this.tagName=e,this.properties=n||De,this.children=t||Ie,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof o?o:null;var i,u=t&&t.length||0,a=0,s=!1,l=!1,f=!1;for(var c in n)if(n.hasOwnProperty(c)){var p=n[c];ge(p)&&p.unhook&&(i||(i={}),i[c]=p)}for(var h=0;h<u;h++){var v=t[h];Oe(v)?(a+=v.count||0,!s&&v.hasWidgets&&(s=!0),!l&&v.hasThunks&&(l=!0),f||!v.hooks&&!v.descendantHooks||(f=!0)):!s&&Ee(v)?"function"==typeof v.destroy&&(s=!0):!l&&Ne(v)&&(l=!0)}this.count=u+a,this.hasWidgets=s,this.hasThunks=l,this.hooks=i,this.descendantHooks=f}function S(e){this.text=String(e)}function j(e,n){if(!e)return"DIV";var t=!n.hasOwnProperty("id"),r=Ue(e,He),o=null;We.test(r[1])&&(o="DIV");var i,u,a,s;for(s=0;s<r.length;s++)(u=r[s])&&(a=u.charAt(0),o?"."===a?(i=i||[]).push(u.substring(1,u.length)):"#"===a&&t&&(n.id=u.substring(1,u.length)):o=u);return i&&(n.className&&i.push(n.className),n.className=i.join(" ")),n.namespace?o:o.toUpperCase()}function C(e){if(!(this instanceof C))return new C(e);this.value=e}function D(e,n){return e in Ge?Ge[e]:(Ge[e]=n,n)}function I(e,n,t){var r="__INDIVIDUAL_ONE_VERSION_"+e,o=Le(r+"_ENFORCE_SINGLETON",n);if(o!==n)throw new Error("Can only have one copy of "+e+".\nYou already have version "+o+" installed.\nThis means you cannot install version "+n);return Le(r,t)}function A(e){var n=e[Ke];return n||(n=e[Ke]={}),n}function U(e){if(!(this instanceof U))return new U(e);this.value=e}function H(e,n,t){var r,o,i,u,a=[];return!t&&G(n)&&(t=n,o={}),o=o||n||{},r=Me(e,o),o.hasOwnProperty("key")&&(i=o.key,o.key=void 0),o.hasOwnProperty("namespace")&&(u=o.namespace,o.namespace=void 0),"INPUT"!==r||u||!o.hasOwnProperty("value")||void 0===o.value||ge(o.value)||(o.value=Fe(o.value)),M(o),void 0!==t&&null!==t&&W(t,a,r,o),new Ce(r,o,a,i,u)}function W(e,n,t,r){if("string"==typeof e)n.push(new Ae(e));else if("number"==typeof e)n.push(new Ae(String(e)));else if(F(e))n.push(e);else{if(!Pe(e)){if(null===e||void 0===e)return;throw L({foreignObject:e,parentVnode:{tagName:t,properties:r}})}for(var o=0;o<e.length;o++)W(e[o],n,t,r)}}function M(e){for(var n in e)if(e.hasOwnProperty(n)){var t=e[n];if(ge(t))continue;"ev-"===n.substr(0,3)&&(e[n]=Be(t))}}function F(e){return Oe(e)||we(e)||Ee(e)||Ne(e)}function G(e){return"string"==typeof e||Pe(e)||F(e)}function L(e){var n=new Error;return n.type="virtual-hyperscript.unexpected.virtual-element",n.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+K(e.foreignObject)+".\nThe parent vnode is:\n"+K(e.parentVnode),n.foreignObject=e.foreignObject,n.parentVnode=e.parentVnode,n}function K(e){try{return JSON.stringify(e,null,"    ")}catch(n){return String(e)}}function X(e,n,t,r){return t&&0!==t.length?(t.sort(Y),B(e,n,t,r,0)):{}}function B(e,n,t,r,o){if(r=r||{},e){z(t,o,o)&&(r[o]=e);var i=n.children;if(i)for(var u=e.childNodes,a=0;a<n.children.length;a++){o+=1;var s=i[a]||ze,l=o+(s.count||0);z(t,o,l)&&B(u[a],s,t,r,o),o=l}}return r}function z(e,n,t){if(0===e.length)return!1;for(var r,o,i=0,u=e.length-1;i<=u;){if(r=(u+i)/2>>0,o=e[r],i===u)return o>=n&&o<=t;if(o<n)i=r+1;else{if(!(o>t))return!0;u=r-1}}return!1}function Y(e,n){return e>n?1:-1}function q(e,n){return!(!Ee(e)||!Ee(n))&&("name"in e&&"name"in n?e.id===n.id:e.init===n.init)}function J(e,n,t){var r=e.type,o=e.vNode,i=e.patch;switch(r){case Re.REMOVE:return Z(n,o);case Re.INSERT:return $(n,i,t);case Re.VTEXT:return Q(n,o,i,t);case Re.WIDGET:return ee(n,o,i,t);case Re.VNODE:return ne(n,o,i,t);case Re.ORDER:return re(n,i),n;case Re.PROPS:return ke(n,i,o.properties),n;case Re.THUNK:return oe(n,t.patch(n,i,t));default:return n}}function Z(e,n){var t=e.parentNode;return t&&t.removeChild(e),te(e,n),null}function $(e,n,t){var r=t.render(n,t);return e&&e.appendChild(r),e}function Q(e,n,t,r){var o;if(3===e.nodeType)e.replaceData(0,e.length,t.text),o=e;else{var i=e.parentNode;o=r.render(t,r),i&&o!==e&&i.replaceChild(o,e)}return o}function ee(e,n,t,r){var o,i=qe(n,t);o=i?t.update(n,e)||e:r.render(t,r);var u=e.parentNode;return u&&o!==e&&u.replaceChild(o,e),i||te(e,n),o}function ne(e,n,t,r){var o=e.parentNode,i=r.render(t,r);return o&&i!==e&&o.replaceChild(i,e),i}function te(e,n){"function"==typeof n.destroy&&Ee(n)&&n.destroy(e)}function re(e,n){for(var t,r,o,i=e.childNodes,u={},a=0;a<n.removes.length;a++)t=i[(r=n.removes[a]).from],r.key&&(u[r.key]=t),e.removeChild(t);for(var s=i.length,l=0;l<n.inserts.length;l++)t=u[(o=n.inserts[l]).key],e.insertBefore(t,o.to>=s++?null:i[o.to])}function oe(e,n){return e&&n&&e!==n&&e.parentNode&&e.parentNode.replaceChild(n,e),n}function ie(e,n,t){return t=t||{},t.patch=t.patch&&t.patch!==ie?t.patch:ue,t.render=t.render||be,t.patch(e,n,t)}function ue(e,n,t){var r=se(n);if(0===r.length)return e;var o=Ye(e,n.a,r),i=e.ownerDocument;t.document||i===de||(t.document=i);for(var u=0;u<r.length;u++){var a=r[u];e=ae(e,o[a],n[a],t)}return e}function ae(e,n,t,r){if(!n)return e;var o;if(Pe(t))for(var i=0;i<t.length;i++)o=Je(t[i],n,r),n===e&&(e=o);else o=Je(t,n,r),n===e&&(e=o);return e}function se(e){var n=[];for(var t in e)"a"!==t&&n.push(Number(t));return n}var le,fe="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ce={},pe=Object.freeze({default:ce}),he=pe&&ce||pe,ve=void 0!==fe?fe:"undefined"!=typeof window?window:{};"undefined"!=typeof document?le=document:(le=ve["__GLOBAL_DOCUMENT_CACHE@4"])||(le=ve["__GLOBAL_DOCUMENT_CACHE@4"]=he);var de=le,ye=function(e){return"object"==typeof e&&null!==e},ge=n,ke=t,me="2",Oe=u,we=a,Ee=s,Ne=l,_e=f,be=p,Te=be,Ve=Array.isArray,xe=Object.prototype.toString,Pe=Ve||h;v.NONE=0,v.VTEXT=1,v.VNODE=2,v.WIDGET=3,v.PROPS=4,v.ORDER=5,v.INSERT=6,v.REMOVE=7,v.THUNK=8;var Re=v;v.prototype.version=me,v.prototype.type="VirtualPatch";var Se=d,je=g,Ce=R,De={},Ie=[];R.prototype.version=me,R.prototype.type="VirtualNode";var Ae=S;S.prototype.version=me,S.prototype.type="VirtualText";var Ue=function(e){var n=String.prototype.split,t=/()??/.exec("")[1]===e;return function(r,o,i){if("[object RegExp]"!==Object.prototype.toString.call(o))return n.call(r,o,i);var u,a,s,l,f=[],c=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),p=0,o=new RegExp(o.source,c+"g");for(r+="",t||(u=new RegExp("^"+o.source+"$(?!\\s)",c)),i=i===e?-1>>>0:i>>>0;(a=o.exec(r))&&!((s=a.index+a[0].length)>p&&(f.push(r.slice(p,a.index)),!t&&a.length>1&&a[0].replace(u,function(){for(var n=arguments,t=1;t<arguments.length-2;t++)n[t]===e&&(a[t]=e)}),a.length>1&&a.index<r.length&&Array.prototype.push.apply(f,a.slice(1)),l=a[0].length,p=s,f.length>=i));)o.lastIndex===a.index&&o.lastIndex++;return p===r.length?!l&&o.test("")||f.push(""):f.push(r.slice(p)),f.length>i?f.slice(0,i):f}}(),He=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,We=/^\.|#/,Me=j,Fe=C;C.prototype.hook=function(e,n){e[n]!==this.value&&(e[n]=this.value)};var Ge="undefined"!=typeof window?window:void 0!==fe?fe:{},Le=D;I("ev-store","7");var Ke="__EV_STORE_KEY@7",Xe=A,Be=U;U.prototype.hook=function(e,n){Xe(e)[n.substr(3)]=this.value},U.prototype.unhook=function(e,n){Xe(e)[n.substr(3)]=void 0};var ze={},Ye=X,qe=q,Je=J,Ze=ie,$e=H,Qe=function(e){var n=e.model;void 0===n&&(n={});var t=e.update;void 0===t&&(t={});var r,o,i=e.view;return Object.keys(t).forEach(function(e){var u=t[e];t[e]=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];Object.assign(n,u.apply(void 0,[n,t].concat(e)));var s=i(n,t),l=je(o,s);r=Ze(r,l),o=s}}),o=i(n,t),r=Te(o),{mount:function(e){return void 0===e&&(e="body"),document.querySelector(e).appendChild(r)}}};e.h=$e,e.program=Qe,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=coppice.js.map
