!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.coppice=e.coppice||{})}(this,function(e){"use strict";function t(e,t){for(var n,r=arguments,o=[],a=[],i=arguments.length;i-- >2;)o[o.length]=r[i];for(;o.length;)if(Array.isArray(n=o.pop()))for(i=n.length;i--;)o[o.length]=n[i];else null!=n&&!0!==n&&!1!==n&&("number"==typeof n&&(n+=""),a[a.length]=n);return"string"==typeof e?{tag:e,data:t||{},children:a}:e(t,a)}function n(e,t,r,a){if(null==r)t=e.insertBefore(o(a),t);else if(a.tag&&a.tag===r.tag){i(t,r.data,a.data);for(var c=a.children.length,u=r.children.length,d={},v=[],h={},p=0;p<u;p++){g=t.childNodes[p];v[p]=g,null!=(j=l(y=r.children[p]))&&(d[j]=[g,y])}for(var p=0,s=0;s<c;){var g=v[p],y=r.children[p],m=a.children[s];if(h[j=l(y)])p++;else{var b=l(m),A=d[b]||[];null==b?(null==j&&(n(t,g,y,m),s++),p++):(j===b?(n(t,A[0],A[1],m),p++):A[0]?(t.insertBefore(A[0],g),n(t,A[0],A[1],m)):n(t,g,null,m),s++,h[b]=m)}}for(;p<u;){var j=l(y=r.children[p]);null==j&&f(t,v[p],y),p++}for(var p in d){var w=(A=d[p])[1];h[w.data.key]||f(t,A[0],w)}}else if(a!==r){p=t;e.replaceChild(t=o(a),p)}return t}function r(e,t){var n={};if("object"!=typeof t||Array.isArray(t))return t;for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function o(e,t){if("string"==typeof e)n=document.createTextNode(e);else{for(var n=(t=t||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag),r=0;r<e.children.length;)n.appendChild(o(e.children[r++],t));for(var r in e.data)"oncreate"===r?e.data[r](n):a(n,r,e.data[r])}return n}function a(e,t,n,o){if("key"===t);else if("style"===t)for(var a in r(o,n=n||{}))e.style[a]=n[a]||"";else{try{e[t]=n}catch(e){}"function"!=typeof n&&(n?e.setAttribute(t,n):e.removeAttribute(t))}}function i(e,t,n){for(var o in r(t,n)){var i=n[o],l=t[o];"onupdate"===o?i(e):i===l&&i===e[o]||a(e,o,i,l)}}function l(e){if(e&&(e=e.data))return e.key}function f(e,t,n){function r(){e.removeChild(t)}(n.data&&n.data.onremove||r)(t,r)}var c=t,u=function(e,t){void 0===t&&(t="body"),document.querySelector(t).appendChild(e)},d=function(e){var t=e.model;void 0===t&&(t={});var r=e.update;void 0===r&&(r={});var o,a,i=e.view,l=document.createElement(null),f=function(e){return o=n(l,o,a,a=e)};return Object.keys(r).forEach(function(e){var n=r[e];r[e]=function(){for(var e=[],o=arguments.length;o--;)e[o]=arguments[o];Object.assign(t,n.apply(void 0,e.concat([r]))(t)),f(i(r)(t))}}),f(i(r)(t))};e.h=c,e.mount=u,e.program=d,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=coppice.js.map
